{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","id","Filter","props","onChange","handleFilter","value","filter","PersonForm","onSubmit","addPerson","handleName","newName","handleNumber","newNumber","type","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","baseUrl","personService","getAll","axios","get","then","response","data","create","newPerson","post","remove","delete","replace","put","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","notiMessage","setNotiMessage","errorMessage","setErrorMessage","useEffect","initialPersons","target","find","p","window","confirm","filteredDisplay","toLowerCase","includes","event","preventDefault","personReplaced","map","setTimeout","catch","error","createdPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"wJAMeA,EAJA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAX,OACX,8BAAID,EAAOE,KAAX,IAAkBF,EAAOG,OAAzB,IAAiC,wBACjCC,QAAS,kBAAMH,EAAaD,EAAOK,KADF,wBCOtBC,EARA,SAACC,GACZ,OACE,oDACmB,uBAAOC,SAAUD,EAAME,aAAcC,MAAOH,EAAMI,aCW5DC,EAdI,SAACL,GAChB,OACE,uBAAMM,SAAUN,EAAMO,UAAtB,UACI,yCACQ,uBAAON,SAAUD,EAAMQ,WAAYL,MAAOH,EAAMS,aAExD,2CACU,uBAAOR,SAAUD,EAAMU,aAAcP,MAAOH,EAAMW,eAE5D,8BAAK,wBAAQC,KAAK,SAAb,uBCYAC,EArBM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,GAAgB,OAAZA,EACA,OAAO,KAYX,OACI,qBAAKC,MAXS,CACdC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAId,SACKR,KCKES,EArBD,SAAC,GAAiB,IAAfT,EAAc,EAAdA,QACb,GAAgB,OAAZA,EACA,OAAO,KAYX,OACI,qBAAKC,MAXU,CACfC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAId,SACKR,K,gBCjBPU,EAAU,eAsBDC,EADO,CAAEC,OAnBT,WAEX,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiBbC,OAdjB,SAAAC,GAEX,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAYLI,OATzB,SAAArC,GACX,OAAO6B,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2B1B,KAQUuC,QALhC,SAACvC,EAAImC,GAEjB,OADgBN,IAAMW,IAAN,UAAad,EAAb,YAAwB1B,GAAMmC,GAC/BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCyG9BQ,EApHH,WACV,MAAgCC,mBAAS,IAAzC,mBAAQC,EAAR,KAAiBC,EAAjB,KACA,EAAgCF,mBAAS,IAAzC,mBAAQ/B,EAAR,KAAiBkC,EAAjB,KACA,EAAoCH,mBAAS,IAA7C,mBAAQ7B,EAAR,KAAmBiC,EAAnB,KACA,EAA8BJ,mBAAS,IAAvC,mBAAQpC,EAAR,KAAgByC,EAAhB,KACA,EAAwCL,mBAAS,MAAjD,mBAAQM,EAAR,KAAqBC,EAArB,KACA,EAA0CP,mBAAS,MAAnD,mBAAQQ,EAAR,KAAsBC,EAAtB,KAEAC,qBAAU,WACRzB,EAAcC,SACXG,MAAK,SAAAsB,GAAc,OAClBT,EAAWS,QACd,IAEH,IAuDMzD,EAAe,SAAAI,GACnB,IAAMsD,EAASX,EAAQY,MAAK,SAAAC,GAAC,OAAIA,EAAExD,KAAOA,KACpCgB,EAAO,iBAAasC,EAAOzD,KAApB,MAET4D,OAAOC,QAAQ1C,IACjBW,EAAcU,OAAOrC,GAClB+B,MAAK,SAAAC,GACJY,EAAWD,EAAQrC,QAAO,SAAAX,GAAM,OAC9BA,EAAOK,KAAOA,UAalB2D,EAAkBhB,EAAQrC,QAAO,SAAAX,GAAM,OAAIA,EAAOE,KAAK+D,cAAcC,SAASvD,EAAOsD,kBAM3F,OACE,gCACE,2CACA,cAAC,EAAD,CAAc5C,QAASgC,IACvB,cAAC,EAAD,CAAOhC,QAASkC,IAChB,cAAC,EAAD,CAAQ9C,aATS,SAAC0D,GACpBf,EAAUe,EAAMR,OAAOjD,QAQeC,OAAQA,IAE5C,2CACA,cAAC,EAAD,CAAYG,UA1FE,SAACqD,GACjBA,EAAMC,iBACN,IAAM5B,EAAY,CAChBtC,KAAMc,EACNb,OAAQe,GAGV,GAAI8B,EAAQY,MAAK,SAAA5D,GAAM,OAAIA,EAAOE,OAASc,KAAU,CACnD,IAAMK,EAAO,UAAML,EAAN,0EAEb,GAAI8C,OAAOC,QAAQ1C,GAAU,CAC3B,IAAMsC,EAASX,EAAQY,MAAK,SAAA5D,GAAM,OAAIA,EAAOE,OAASc,KAEtDgB,EAAcY,QAAQe,EAAOtD,GAAImC,GAC9BJ,MAAK,SAAAiC,GACJpB,EAAWD,EAAQsB,KAAI,SAAAtE,GAAM,OAC3BA,EAAOK,KAAOsD,EAAOtD,GAAKL,EAASqE,MACrCnB,EAAW,IACXC,EAAa,IACbG,EAAe,WAAD,OAAYe,EAAenE,OACzCqE,YAAW,WACTjB,EAAe,QACd,QAEJkB,OAAM,SAAAC,GACiC,mBAAlCA,EAAMpC,SAASC,KAAKmC,MAAMvE,KAC5BsD,EAAgBiB,EAAMpC,SAASC,KAAKmC,MAAMpD,UAE1C6B,EAAW,IACXC,EAAa,IACbK,EAAgB,kBAAD,OAAmBG,EAAOzD,KAA1B,0CACfqE,YAAW,WACTf,EAAgB,QACf,KACHP,EAAWD,EAAQrC,QAAO,SAAAX,GAAM,OAAIA,EAAOK,KAAOsD,EAAOtD,iBAMjE2B,EAAcO,OAAOC,GAClBJ,MAAK,SAAAsC,GACJzB,EAAWD,EAAQ2B,OAAOD,IAC1BxB,EAAW,IACXC,EAAa,IACbG,EAAe,SAAD,OAAUoB,EAAcxE,OACtCqE,YAAW,WACTjB,EAAe,QACd,QAEJkB,OAAM,SAAAC,GAAK,OACVjB,EAAgBiB,EAAMpC,SAASC,KAAKmC,MAAMpD,aAuCZN,WAtBnB,SAACoD,GAClBjB,EAAWiB,EAAMR,OAAOjD,QAqBoCO,aAlBzC,SAACkD,GACpBhB,EAAagB,EAAMR,OAAOjD,QAkBPM,QAASA,EAASE,UAAWA,IAE9C,yCACC8C,EAAgBM,KAAI,SAAAtE,GAAM,OACzB,cAAC,EAAD,CAA0BA,OAAQA,EAChCC,aAAcA,GADHD,EAAOE,aClH5B0E,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.c81efc60.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => \r\n    <p>{person.name} {person.number} <button \r\n    onClick={() => deletePerson(person.id)}>delete</button></p>\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n      <div>\r\n        filter shown with<input onChange={props.handleFilter} value={props.filter} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n      <form onSubmit={props.addPerson}>\r\n          <div>\r\n            name: <input onChange={props.handleName} value={props.newName} />\r\n          </div>\r\n          <div>\r\n            number: <input onChange={props.handleNumber} value={props.newNumber} />\r\n          </div>\r\n          <div><button type=\"submit\">add</button></div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null)\r\n        return null\r\n    \r\n    const notiStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    \r\n    return (\r\n        <div style={notiStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null)\r\n        return null\r\n    \r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    return (\r\n        <div style={errorStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst replace = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personService = { getAll, create, remove, replace }\r\nexport default personService","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notiMessage, setNotiMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initialPersons => \n        setPersons(initialPersons))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    \n    if (persons.find(person => person.name === newName)) {\n      const message = `${newName} is already added to phonebook, replace the old number with a new one?`\n      \n      if (window.confirm(message)) {\n        const target = persons.find(person => person.name === newName)\n\n        personService.replace(target.id, newPerson)\n          .then(personReplaced => {\n            setPersons(persons.map(person => \n              person.id !== target.id ? person : personReplaced))  \n            setNewName('')\n            setNewNumber('')\n            setNotiMessage(`Changed ${personReplaced.name}`)\n            setTimeout(() => {\n              setNotiMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            if (error.response.data.error.name == 'ValidationError')\n              setErrorMessage(error.response.data.error.message)\n            else {\n              setNewName('')\n              setNewNumber('')\n              setErrorMessage(`Information of ${target.name} has already been removed from server`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n              setPersons(persons.filter(person => person.id !== target.id))\n            }\n          })\n      }\n    } \n    else {\n      personService.create(newPerson)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotiMessage(`Added ${createdPerson.name}`)\n          setTimeout(() => {\n            setNotiMessage(null)\n          }, 5000)\n        })\n        .catch(error => \n          setErrorMessage(error.response.data.error.message))\n    }\n  }\n\n  const deletePerson = id => {\n    const target = persons.find(p => p.id === id)\n    const message = `Delete ${target.name} ?`\n\n    if (window.confirm(message)) {\n      personService.remove(id)\n        .then(response => {\n          setPersons(persons.filter(person =>\n            person.id !== id))\n        })\n    }\n  }\n\n  const handleName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const filteredDisplay = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notiMessage} />\n      <Error message={errorMessage} />\n      <Filter handleFilter={handleFilter} filter={filter} />\n\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson} handleName={handleName} handleNumber=\n        {handleNumber} newName={newName} newNumber={newNumber}/>\n\n      <h2>Numbers</h2>\n      {filteredDisplay.map(person => \n        <Person key={person.name} person={person} \n          deletePerson={deletePerson} />\n      )}\n    </div>    \n  );\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}